# スタレゾ 金策計算ツール

**Blue Protocol: Star Resonance** のクラフト金策効率を計算するWebツールです。

## 機能

- 📊 **計算タブ** — アイテムを選択し、売値・素材価格を入力するだけで利益を自動計算
  - 中間素材（例: 鉄のインゴット）が別アイテムとして登録されている場合、ツリー表示でネスト展開
  - 素材が市場購入か自作かをユーザが選択できる（価格入力による切り替え）
- 🏆 **ランキングタブ** — 全アイテムの利益を比較・ランキング表示
- ⚙️ **レシピ編集タブ** — アイテム・レシピの追加・編集・削除
- 💾 **インポート/エクスポート** — データをJSONで保存・共有可能

## 使い方

1. `index.html` をブラウザで開く（ローカルファイルで動作）
2. **計算タブ**でアイテムを選択
3. 販売価格・各素材の市場価格を入力
4. 利益が自動計算される
5. **ランキングタブ**で最も儲かるアイテムを確認

## データについて

- デフォルトレシピはサンプルデータです（要確認・更新）
- 価格データはブラウザの `localStorage` に自動保存されます
- **エクスポート** ボタンでJSONファイルとして書き出せます
- チームで共有する場合はJSONをGitにコミットし、**インポート**で読み込んでください

## カスタマイズ

### レシピの追加

「レシピ編集」タブから GUI で追加、または `index.html` 内の `DEFAULT_DATA.items` を直接編集：

```js
{
  id: 'item_xxx',          // ユニークID
  name: 'アイテム名',
  category: '料理',        // 料理/錬金/工芸/木工/鍛造/織物/その他
  qtyPerCraft: 1,          // 1回のクラフトで完成する個数
  note: '備考',
  materials: [
    { name: '素材名', qty: 3 },
    { name: '素材名2', qty: 1 },
  ]
}
```

### 中間素材のネスト

素材が「アイテム一覧」にも登録されている場合、自動的にサブ素材ツリーを表示します。
例: 「強化ポーション」の素材に「錬金溶剤」があり、「錬金溶剤」もアイテムとして登録されていれば、錬金溶剤の素材も展開表示。

## Gitでの管理

```bash
git add index.html README.md
git commit -m "スタレゾ金策計算ツール"
git push
```

JSONデータをGitで管理する場合はエクスポートしたファイルも含めてください。
